{% comment %}
  Renders a standard dropdown style menu for the header (hover version).
{% endcomment %}

<style>
  .menu-item {
    position: relative;
  }

  .submenu {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    background: #fff;
    min-width: 200px;
    z-index: 999;
    padding: 1rem 0;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
  }

  .menu-item:hover > .submenu {
    display: block;
  }

  .submenu li {
    padding: 0.4rem 1.5rem;
    white-space: nowrap;
  }

  .submenu .submenu {
    left: 100%;
    top: 0;
  }

  .submenu .menu-item {
    position: relative;
  }

  /* ✅ 去掉圆点 */
  .list-menu,
  .list-menu li,
  .submenu,
  .submenu li {
    list-style: none;
  }
</style>

<nav class="header__inline-menu">
  <ul class="list-menu list-menu--inline" role="list">
    {%- for link in section.settings.menu.links -%}
      <li class="menu-item">
        <a
          href="{{ link.url }}"
          class="header__menu-item list-menu__item link focus-inset"
          {% if link.current %}
            aria-current="page"
          {% endif %}
        >
          {{ link.title | escape }}
        </a>

        {% if link.links != blank %}
          <ul class="submenu">
            {%- for childlink in link.links -%}
              <li class="menu-item">
                <a
                  href="{{ childlink.url }}"
                  class="list-menu__item link link--text focus-inset caption-large{% if childlink.current %} list-menu__item--active{% endif %}"
                  {% if childlink.current %} aria-current="page"{% endif %}
                >
                  {{ childlink.title | escape }}
                </a>

                {% if childlink.links != blank %}
                  <ul class="submenu">
                    {%- for grandchildlink in childlink.links -%}
                      <li>
                        <a
                          href="{{ grandchildlink.url }}"
                          class="list-menu__item link link--text focus-inset caption-large{% if grandchildlink.current %} list-menu__item--active{% endif %}"
                          {% if grandchildlink.current %} aria-current="page"{% endif %}
                        >
                          {{ grandchildlink.title | escape }}
                        </a>
                      </li>
                    {%- endfor -%}
                  </ul>
                {% endif %}
              </li>
            {%- endfor -%}
          </ul>
        {% endif %}
      </li>
    {%- endfor -%}
  </ul>
</nav>
